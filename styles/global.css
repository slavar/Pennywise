/* Tokens */
:root {
  --bg: #FCFCFD;
  --surface: #FFFFFF;
  --text: #1F2937;
  --muted: #64748B;
  --primary: #3B82F6;
  --success: #22C55E;
  --danger: #EF4444;
  --grid: #E5E7EB;

  --radius-card: 12px;
  --radius-ctl: 8px;
  --shadow-card: 0 4px 16px rgba(0,0,0,0.06);
  --shadow-card-hover: 0 6px 20px rgba(0,0,0,0.08);

  /* Aliases for existing vars */
  --color-background: var(--bg);
  --color-text: var(--text);
  --color-secondary: var(--muted);
  --color-primary: var(--primary);
  --color-gain: var(--success);
  --color-loss: var(--danger);
}
[data-theme="dark"] {
  --bg: #0E1116;
  --surface: #151A22;
  --text: #E6E8EB;
  --muted: #8B96A8;
  --primary: #60A5FA;
  --success: #57BB8A;
  --danger: #E06666;
  --grid: #2A2F36;
}

html,
body {
  padding: 0;
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
    "Helvetica Neue", sans-serif;
  background: var(--bg);
  color: var(--text);
}

* { box-sizing: border-box; }

/* Container */
.container { max-width: 960px; margin: 0 auto; padding: 16px; }
@media (min-width: 640px) { .container { padding: 24px; } }

/* Header */
.header {
  position: sticky; top: 0; z-index: 10;
  background: var(--surface);
  border-bottom: 1px solid var(--grid);
  height: 56px; display: flex; align-items: center;
}

/* Cards */
.card {
  background: var(--surface);
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-card);
  padding: 16px;
  transition: box-shadow .2s ease, transform .2s ease;
}
.card:hover { box-shadow: var(--shadow-card-hover); }

/* Buttons / Segments */
.btn { border-radius: var(--radius-ctl); padding: 8px 12px; border: 1px solid transparent; }
.btn-primary { background: var(--primary); color: #fff; }
.btn-ghost { background: transparent; color: var(--text); border-color: transparent; }
.btn-outline { background: transparent; color: var(--text); border-color: var(--grid); }
.btn:hover { filter: brightness(0.98); }
.btn:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }
.segment { display: inline-flex; border: 1px solid var(--grid); border-radius: var(--radius-ctl); overflow: hidden; }
.segment > button { padding: 6px 10px; border: 0; background: transparent; cursor: pointer; }
.segment > button[aria-pressed="true"] { background: var(--primary); color: #fff; }

/* Chart container helpers */
.chart-container { border-radius: var(--radius-card); overflow: hidden; background: var(--surface); }
.chart-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem; }

/* Page header section */
.page-header { display: flex; justify-content: flex-start; align-items: center; flex-wrap: wrap; margin: 1rem 0; }
.page-header h1 { margin: 0; white-space: nowrap; }
.page-header p { margin: 0.5rem 0; color: var(--muted); }

/* Footer */
.pw-footer { text-align: center; color: var(--muted); margin-top: 1rem; font-size: 0.97rem; padding: 16px 0; background: transparent; }

/* Responsive layout for small screens */
@media (max-width: 600px) {
  .top-row { flex-direction: column; gap: 1rem; }
  .container { padding: 0.5rem; }
  .page-header { justify-content: center; text-align: center; }
  .page-header h1 { white-space: normal; font-size: 1.5rem; }
  .page-header p { font-size: 0.9rem; }
}

/* Reduced motion accessibility */
@media (prefers-reduced-motion: reduce) {
  .card { transition: none; }
  .card:hover { box-shadow: var(--shadow-card); }
  .btn { transition: none; }
}
